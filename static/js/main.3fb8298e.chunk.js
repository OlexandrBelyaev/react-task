(this["webpackJsonpreact-task"]=this["webpackJsonpreact-task"]||[]).push([[0],{60:function(e,a,t){},61:function(e,a,t){},62:function(e,a,t){},64:function(e,a,t){},69:function(e,a,t){},70:function(e,a,t){},72:function(e,a,t){"use strict";t.r(a);var c=t(0),n=t.n(c),r=t(11),s=t.n(r),i=t(35),o=t(39),d=t(40),l=t(47),u=t(45),h=(t(60),t(61),t(62),t(4)),j=function(e){var a=e.changeLanguage,t=e.lang;return Object(h.jsxs)("select",{className:"SelectLanguage",onChange:a,value:t,children:[Object(h.jsx)("option",{value:"en",children:"EN"}),Object(h.jsx)("option",{value:"ua",children:"UA"}),Object(h.jsx)("option",{value:"ru",children:"RU"})]})},b=(t(64),function(e){var a=e.setBackgroundCard;return Object(h.jsxs)("div",{className:"Palette",children:["Palette:",["#FFF1FE","#F1F2FF","#459DE9","#F2F2F2","#C5C5C5","#8D8D8D"].map((function(e,t){return Object(h.jsx)("button",{className:"Palette__buttons",onClick:a({color:e})},"button".concat(t))}))]})}),m=t(26),g=t(110),p=t(111);function C(e){var a=e.setSearchNameCity,t=e.localization,c=e.autocompleted;return Object(h.jsx)("div",{style:{width:300},children:Object(h.jsx)(p.a,{freeSolo:!0,onChange:function(e,t){a(t)},id:"free-solo-2-demo",disableClearable:!0,options:c.map((function(e){return e})),onInputChange:function(e){a(e.target.value)},renderInput:function(e){return Object(h.jsx)(g.a,Object(m.a)(Object(m.a)({},e),{},{label:t.placeholder,margin:"none",variant:"outlined",InputProps:Object(m.a)(Object(m.a)({},e.InputProps),{},{type:"search"})}))}})})}var f=function(e){var a=e.localization,t=e.setSearchNameCity,c=e.addCard,n=e.setBackgroundCard,r=e.changeLanguage,s=e.lang,i=e.autocompleted;e.searchNameCity;return Object(h.jsxs)("div",{className:"Header",children:[Object(h.jsxs)("div",{className:"Header__search",children:[Object(h.jsx)(C,{setSearchNameCity:t,localization:a,autocompleted:i}),Object(h.jsx)("button",{className:"Header__searchButton",type:"button",onClick:c,children:a.searchButton})]}),Object(h.jsxs)("div",{className:"Header__modificators",children:[Object(h.jsx)(b,{setBackgroundCard:n}),Object(h.jsx)(j,{changeLanguage:r,lang:s})]})]})},O=(t(69),t(46)),v=(t(70),t(44)),k=t.n(v),x=function(e){var a={chart:{id:"basic-bar"},xaxis:{categories:["00:00","03:00","06:00","09:00","12:00","15:00","18:00","21:00"]},fill:{colors:e.averageTemp>0?"red":"blue"}};return Object(h.jsx)("div",{className:"app",children:Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"mixed-chart",children:Object(h.jsx)(k.a,{options:a,series:[{name:"Temperature",data:[5,7,10,11,15,8,10,9]}],type:"area",width:"300",height:"150"})})})})},_=function(e){var a=e.weather,t=e.localization,n=e.language,r=e.background,s=e.deleteCard,i=e.id,o=Object(c.useState)("c"),d=Object(O.a)(o,2),l=d[0],u=d[1],j=Object.assign({},a.main),b=Object.assign({},a.weather),m=Object.assign({},a.sys),g=Object.assign({},a.wind),p=(j.temp_max+j.temp_min)/2,C=function(e){return Math.round(9*e/5-459.67).toString()},f=function(e){var a=Math.round(e-273.15).toString();return a>0?"+".concat(a):a};return Object(h.jsxs)("div",{className:"WeatherCard",style:{background:r},children:[Object(h.jsxs)("div",{className:"WeatherCard__header",children:[Object(h.jsx)("div",{className:"WeatherCard__city",children:"".concat(a.name,", ").concat(m.country)}),Object(h.jsxs)("div",{className:"WeatherCard__iconWeather",children:[Object(h.jsx)("img",{className:"WeatherCard__icon",src:"http://openweathermap.org/img/wn/".concat(b[0].icon,"@2x.png"),alt:"weatherIcon"}),Object(h.jsx)("div",{className:"WeatherCard__weatherDescription",children:b[0].description}),Object(h.jsx)("button",{className:"WeatherCard__deleteCard",onClick:s(i),children:"x"})]})]}),Object(h.jsx)("div",{className:"WeatherCard__date",children:function(){var e,a=new Date;switch(a.getDay()){case 0:e="Mon";break;case 1:e="Tue";break;case 2:e="Wed";break;case 3:e="Thi";break;case 4:e="Fri";break;case 5:e="Sat";break;case 6:e="Sun"}switch(e+=", ".concat(a.getDate()," "),a.getMonth()){case 0:e+="January";break;case 1:e+="February";break;case 2:e+="March";break;case 3:e+="April";break;case 4:e+="May";break;case 5:e+="June";break;case 6:e+="Jule";break;case 7:e+="August";break;case 8:e+="September";break;case 9:e+="October";break;case 10:e+="November";break;case 11:e+="December"}return e+=", ".concat(a.getHours(),":").concat(a.getMinutes())}()}),Object(h.jsx)("div",{className:"WeatherCard__chart",children:Object(h.jsx)(x,{averageTemp:f(p)})}),Object(h.jsxs)("div",{className:"WeatherCard__templine",children:[Object(h.jsxs)("div",{className:"WeatherCard__tempcontainer",children:[Object(h.jsxs)("div",{className:"WeatherCard__tempToggle",children:["c"===l?Object(h.jsx)("span",{className:"WeatherCard__temp",children:f(j.temp)}):Object(h.jsx)("span",{className:"WeatherCard__temp",children:C(j.temp)}),Object(h.jsx)("span",{href:"#1",className:"c"===l?"WeatherCard__temptype-active":"WeatherCard__temptype",onClick:function(){u("c")},children:"\u2103"})," | ",Object(h.jsx)("span",{href:"#1",className:"f"===l?"WeatherCard__temptype-active":"WeatherCard__temptype",onClick:function(){u("f")},children:"\u2109"})]}),Object(h.jsx)("div",{className:"WeatherCard__feelslike",children:"c"===l?"".concat(t[n].feelsLike," ").concat(f(j.feels_like),"\u2103"):"".concat(t[n].feelsLike," ").concat(C(j.feels_like),"\u2109")})]}),Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"WeatherCard__additional",children:[Object(h.jsxs)("div",{children:["".concat(t[n].wind,": "),Object(h.jsx)("b",{className:"WeatherCard__additional-blue",children:"".concat(g.speed," m/s")})]}),Object(h.jsxs)("div",{children:["".concat(t[n].humidity,":"),Object(h.jsx)("b",{className:"WeatherCard__additional-blue",children:" ".concat(j.humidity)})]}),Object(h.jsxs)("div",{children:["".concat(t[n].pressure,":"),Object(h.jsx)("b",{className:"WeatherCard__additional-blue",children:" ".concat(j.pressure)})]})]})})]})]})};_.defaultProps={background:"#FFF1FE"};var N=_,y=function(e){var a=e.savedCards,t=e.localization,c=e.language,n=e.background,r=e.deleteCard,s=e.chartBackground;return Object(h.jsx)("div",{className:"CardList",children:a.map((function(e,a){return Object(h.jsx)(N,{weather:e,localization:t,background:n,deleteCard:r,id:a,language:c,chartBackground:s},a)}))})};y.defultProps={savedCards:[],background:"#FFF1FE"};var S=y,W=function(e){Object(l.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(o.a)(this,t);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).state={lang:"en",savedCards:[],autocompleted:[],key:"1c5a9a29fe1346947d780b45fcf95006",background:"#FFF1FE",searchNameCity:"",localization:{en:{placeholder:"City name...",searchButton:"Add",feelsLike:"Feels like",wind:"Wind",humidity:"Humidity",pressure:"Pressure"},ua:{placeholder:"\u041d\u0430\u0437\u0432\u0430 \u043c\u0456\u0441\u0442\u0430...",searchButton:"\u0414\u043e\u0434\u0430\u0442\u0438",feelsLike:"\u0412\u0456\u0434\u0447\u0443\u0432\u0430\u0454\u0442\u044c\u0441\u044f \u044f\u043a",wind:"\u0412\u0456\u0442\u0435\u0440",humidity:"\u0412\u043e\u043b\u043e\u0433\u0456\u0441\u0442\u044c",pressure:"\u0422\u0438\u0441\u043a"},ru:{placeholder:"\u0418\u043c\u044f \u0433\u043e\u0440\u043e\u0434\u0430...",searchButton:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",feelsLike:"\u0427\u0443\u0432\u0441\u0442\u0432\u0443\u0435\u0442\u0441\u044f \u043a\u0430\u043a",wind:"\u0412\u0435\u0442\u0435\u0440",humidity:"\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c",pressure:"\u0414\u0430\u0432\u043b\u0435\u043d\u0438\u0435"}}},e.loadData=function(){null===JSON.parse(localStorage.getItem("savedCards"))?fetch("https://geolocation-db.com/json/").then((function(e){return e.json()})).then((function(a){e.setState({location:a})})).then((function(){e.loadWeather(e.state.location.city)})):e.setState({savedCards:JSON.parse(localStorage.getItem("savedCards"))}),localStorage.getItem("lang")&&e.setState({lang:localStorage.getItem("lang")}),localStorage.getItem("autocompleted")&&e.setState({autocompleted:JSON.parse(localStorage.getItem("autocompleted"))})},e.loadWeather=function(a){fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(a,"&appid=").concat(e.state.key)).then((function(e){return e.json()})).then((function(a){200===a.cod&&e.setState((function(e){return{weather:a,savedCards:[a].concat(Object(i.a)(e.savedCards))}})),e.state.autocompleted.includes(a.name)||200!==a.cod||null===a.name||e.setState((function(e){return{autocompleted:[].concat(Object(i.a)(e.autocompleted),[a.name])}}))})).then((function(){localStorage.setItem("savedCards",JSON.stringify(e.state.savedCards)),localStorage.setItem("autocompleted",JSON.stringify(e.state.autocompleted))}))},e.changeLanguage=function(a){e.setState({lang:a.target.value}),localStorage.setItem("lang",a.target.value)},e.setBackgroundCard=function(a){return function(){e.setState({background:a})}},e.setBackgroundChart=function(a){return function(){e.setState({chartBackground:a})}},e.setSearchNameCity=function(a){e.setState({searchNameCity:a})},e.addCard=function(){e.loadWeather(e.state.searchNameCity),e.setState({searchNameCity:""})},e.deleteCard=function(a){return function(){var t=e.state.savedCards.filter((function(e,t){return a!==t}));e.setState({savedCards:t}),localStorage.setItem("savedCards",JSON.stringify(t))}},e}return Object(d.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(f,{localization:this.state.localization[this.state.lang],setSearchNameCity:this.setSearchNameCity,addCard:this.addCard,setBackgroundCard:this.setBackgroundCard,changeLanguage:this.changeLanguage,lang:this.state.lang,autocompleted:this.state.autocompleted}),Object(h.jsx)(S,{savedCards:this.state.savedCards,localization:this.state.localization,language:this.state.lang,background:this.state.background.color,deleteCard:this.deleteCard})]})}}]),t}(n.a.Component);s.a.render(Object(h.jsx)(W,{}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.3fb8298e.chunk.js.map