(this["webpackJsonpreact-task"]=this["webpackJsonpreact-task"]||[]).push([[0],{17:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){},20:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),r=a(9),n=a.n(r),i=a(11),d=a(4),o=a(5),l=a(7),h=a(6),u=(a(17),a(18),a(19),a(12)),j=(a(20),a(10)),b=a.n(j),m=a(0),C=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),r=0;r<c;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={options:{chart:{id:"basic-bar"},xaxis:{categories:["00:00","03:00","06:00","09:00","12:00","15:00","18:00","21:00"]}},series:[{name:"Temperature",data:[5,7,10,11,15,8,10,9]}]},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(m.jsx)("div",{className:"app",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"mixed-chart",children:Object(m.jsx)(b.a,{options:this.state.options,series:this.state.series,type:"area",width:"300",height:"150"})})})})}}]),a}(c.Component),g=function(e){var t=e.whether,a=e.localization,s=e.language,r=e.background,n=e.deleteCard,i=e.id,d=e.chartBackground,o=Object(c.useState)("c"),l=Object(u.a)(o,2),h=l[0],j=l[1],b=Object.assign({},t.main),g=Object.assign({},t.weather),p=Object.assign({},t.sys),O=Object.assign({},t.wind),k=Object.assign({},g[0]),_=k.description,v=k.icon,f=function(e){return Math.round(9*e/5-459.67).toString()},x=function(e){var t=Math.round(e-273.15).toString();return t>0?"+".concat(t):t};return Object(m.jsxs)("div",{className:"WhetherCard",style:{background:r},children:[Object(m.jsxs)("div",{className:"WhetherCard__header",children:[Object(m.jsx)("div",{className:"WhetherCard__city",children:"".concat(t.name,", ").concat(p.country)}),Object(m.jsxs)("div",{className:"WhetherCard__iconWhether",children:[Object(m.jsx)("img",{className:"WhetherCard__icon",src:"http://openweathermap.org/img/wn/".concat(v,"@2x.png"),alt:"weatherIcon"}),Object(m.jsx)("div",{className:"WhetherCard__whetherDescription",children:_}),Object(m.jsx)("button",{className:"WhetherCard__deleteCard",onClick:n(i),children:"x"})]})]}),Object(m.jsx)("div",{className:"WhetherCard__date",children:function(){var e,t=new Date;switch(t.getDay()){case 0:e="Mon";break;case 1:e="Tue";break;case 2:e="Wed";break;case 3:e="Thi";break;case 4:e="Fri";break;case 5:e="Sat";break;case 6:e="Sun"}switch(e+=", ".concat(t.getDate()," "),t.getMonth()){case 0:e+="January";break;case 1:e+="February";break;case 2:e+="March";break;case 3:e+="April";break;case 4:e+="May";break;case 5:e+="June";break;case 6:e+="Jule";break;case 7:e+="August";break;case 8:e+="September";break;case 9:e+="October";break;case 10:e+="November";break;case 11:e+="December"}return e+=", ".concat(t.getHours(),":").concat(t.getMinutes())}()}),Object(m.jsx)("div",{className:"WhetherCard__chart",children:Object(m.jsx)(C,{chartBackground:d})}),Object(m.jsxs)("div",{className:"WhetherCard__templine",children:[Object(m.jsxs)("div",{className:"WhetherCard__tempcontainer",children:[Object(m.jsxs)("div",{className:"WhetherCard__tempToggle",children:["c"===h?Object(m.jsx)("span",{className:"WhetherCard__temp",children:x(b.temp)}):Object(m.jsx)("span",{className:"WhetherCard__temp",children:f(b.temp)}),Object(m.jsx)("span",{href:"#1",className:"c"===h?"WhetherCard__temptype-active":"WhetherCard__temptype",onClick:function(){j("c")},children:"\u2103"})," | ",Object(m.jsx)("span",{href:"#1",className:"f"===h?"WhetherCard__temptype-active":"WhetherCard__temptype",onClick:function(){j("f")},children:"\u2109"})]}),Object(m.jsx)("div",{className:"WhetherCard__feelslike",children:"c"===h?"".concat(a[s].feelsLike," ").concat(x(b.feels_like),"\u2103"):"".concat(a[s].feelsLike," ").concat(f(b.feels_like),"\u2109")})]}),Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"WhetherCard__additional",children:[Object(m.jsxs)("div",{children:["".concat(a[s].wind,": "),Object(m.jsx)("b",{className:"WhetherCard__additional-blue",children:"".concat(O.speed," m/s")})]}),Object(m.jsxs)("div",{children:["".concat(a[s].humidity,":"),Object(m.jsx)("b",{className:"WhetherCard__additional-blue",children:" ".concat(b.humidity)})]}),Object(m.jsxs)("div",{children:["".concat(a[s].pressure,":"),Object(m.jsx)("b",{className:"WhetherCard__additional-blue",children:" ".concat(b.pressure)})]})]})})]})]})},p=function(e){var t=e.savedCards,a=e.localization,c=e.language,s=e.background,r=e.deleteCard,n=e.chartBackground;return Object(m.jsx)("div",{className:"CardList",children:t.map((function(e,t){return Object(m.jsx)(g,{whether:e,localization:a,language:c,background:s,deleteCard:r,id:t,chartBackground:n},t)}))})};p.defultProps={savedCards:[]};var O=p,k=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),r=0;r<c;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={lang:"en",savedCards:[],key:"1c5a9a29fe1346947d780b45fcf95006",background:"#FFF1FE",chartBackground:"#C5C5C5",searchNameCity:"",localization:{en:{placeholder:"City name...",searchBitton:"Add",feelsLike:"Feels like",wind:"Wind",humidity:"Humidity",pressure:"Pressure"},ua:{placeholder:"\u041d\u0430\u0437\u0432\u0430 \u043c\u0456\u0441\u0442\u0430...",searchBitton:"\u0414\u043e\u0434\u0430\u0442\u0438",feelsLike:"\u0412\u0456\u0434\u0447\u0443\u0432\u0430\u0454\u0442\u044c\u0441\u044f \u044f\u043a",wind:"\u0412\u0456\u0442\u0435\u0440",humidity:"\u0412\u043e\u043b\u043e\u0433\u0456\u0441\u0442\u044c",pressure:"\u0422\u0438\u0441\u043a"},ru:{placeholder:"\u0418\u043c\u044f \u0433\u043e\u0440\u043e\u0434\u0430...",searchBitton:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",feelsLike:"\u0427\u0443\u0432\u0441\u0442\u0432\u0443\u0435\u0442\u0441\u044f \u043a\u0430\u043a",wind:"\u0412\u0435\u0442\u0435\u0440",humidity:"\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c",pressure:"\u0414\u0430\u0432\u043b\u0435\u043d\u0438\u0435"}}},e.loadData=function(){0===JSON.parse(localStorage.getItem("savedCards")).length?fetch("https://geolocation-db.com/json/").then((function(e){return e.json()})).then((function(t){e.setState({location:t})})).then((function(){e.loadWhether(e.state.location.city)})):e.setState({savedCards:JSON.parse(localStorage.getItem("savedCards"))})},e.loadWhether=function(t){fetch("http://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&appid=").concat(e.state.key)).then((function(e){return e.json()})).then((function(t){200===t.cod&&e.setState((function(e){return{whether:t,savedCards:[t].concat(Object(i.a)(e.savedCards))}}))})).then((function(){localStorage.setItem("savedCards",JSON.stringify(e.state.savedCards))}))},e.changeLanguage=function(t){e.setState({lang:t.target.value})},e.setBackgroundCard=function(t){return function(){e.setState({background:t})}},e.setBackgroundChart=function(t){return function(){e.setState({chartBackground:t})}},e.setSearchNameCity=function(t){e.setState({searchNameCity:t.target.value})},e.addCard=function(){e.loadWhether(e.state.searchNameCity),e.setState({searchNameCity:""})},e.deleteCard=function(t){return function(){var a=e.state.savedCards.filter((function(e,a){return t!==a}));e.setState({savedCards:a}),localStorage.setItem("savedCards",JSON.stringify(a))}},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsxs)("div",{className:"Header",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"text",className:"Header__searchBar",placeholder:this.state.localization[this.state.lang].placeholder,onChange:this.setSearchNameCity,value:this.state.searchNameCity}),Object(m.jsx)("button",{className:"Header__searchButton",type:"button",onClick:this.addCard,children:this.state.localization[this.state.lang].searchBitton})]}),Object(m.jsxs)("div",{className:"Header__modificators",children:[Object(m.jsxs)("div",{className:"Header__palette",children:["Palette:",Object(m.jsx)("button",{className:"Header__paletteButtons",onClick:this.setBackgroundCard("#FFF1FE")}),Object(m.jsx)("button",{className:"Header__paletteButtons",onClick:this.setBackgroundCard("#F1F2FF")}),Object(m.jsx)("button",{className:"Header__paletteButtons",onClick:this.setBackgroundCard("#459DE9")}),Object(m.jsx)("button",{className:"Header__paletteButtons",onClick:this.setBackgroundCard("#F2F2F2")}),Object(m.jsx)("button",{className:"Header__paletteButtons",onClick:this.setBackgroundCard("#C5C5C5")}),Object(m.jsx)("button",{className:"Header__paletteButtons",onClick:this.setBackgroundCard("#8D8D8D")})]}),Object(m.jsxs)("select",{className:"Header__langSelector",onChange:this.changeLanguage,children:[Object(m.jsx)("option",{value:"en",children:"EN"}),Object(m.jsx)("option",{value:"ua",children:"UA"}),Object(m.jsx)("option",{value:"ru",children:"RU"})]})]})]}),Object(m.jsx)(O,{savedCards:this.state.savedCards,localization:this.state.localization,language:this.state.lang,background:this.state.background,deleteCard:this.deleteCard,chartBackground:this.state.chartBackground})]})}}]),a}(s.a.Component);n.a.render(Object(m.jsx)(k,{}),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.be4ba61b.chunk.js.map